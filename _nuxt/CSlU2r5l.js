import{g as c,l as u,n,E as d,j as b,c as p,o as g,a as r,q as f,J as h,z as v}from"./BfKwbXqx.js";const x={class:"flex flex-col space-y-3"},w=["disabled"],y={class:"flex items-center"},M=c({__name:"LoginButton",setup(_){const s=v(),a=u(),t=n(!1),e=n(a.rememberMe);d(e,l=>{a.setRememberMe(l)}),b(()=>{e.value=a.rememberMe});const i=async()=>{if(!t.value){t.value=!0;try{console.log("Sending remember me preference:",e.value),await fetch(`${s.public.apiBaseUrl}/auth/remember-me`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({rememberMe:e.value})}),window.location.href=`${s.public.apiBaseUrl}/auth/google?remember_me=${e.value}`}catch(l){console.error("Error starting login flow:",l),window.location.href=`${s.public.apiBaseUrl}/auth/google?remember_me=${e.value}`}finally{t.value=!1}}};return(l,o)=>(g(),p("div",x,[r("button",{onClick:i,disabled:t.value,class:"bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded flex items-center"},o[1]||(o[1]=[r("span",{class:"mr-2"},"Login with Google",-1)]),8,w),r("div",y,[f(r("input",{type:"checkbox",id:"remember-me","onUpdate:modelValue":o[0]||(o[0]=m=>e.value=m),class:"h-4 w-4 text-blue-600 rounded border-gray-300"},null,512),[[h,e.value]]),o[2]||(o[2]=r("label",{for:"remember-me",class:"ml-2 text-sm text-gray-700"}," Remember me ",-1))])]))}});export{M as _};
