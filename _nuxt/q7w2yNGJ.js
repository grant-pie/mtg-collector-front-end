import{g as i,l as u,n as c,m as b,c as p,o as d,a as r,q as f,I as g,z as h}from"./Jnih-tvh.js";const v={class:"flex flex-col space-y-3"},x={class:"flex items-center"},w=i({__name:"LoginButton",setup(y){const s=h(),l=u(),a=c(!1),e=b({get:()=>l.rememberMe,set:o=>l.setRememberMe(o)}),n=async()=>{if(!a.value){a.value=!0;try{localStorage.setItem("oauth_remember_me",e.value.toString()),await fetch(`${s.public.apiBaseUrl}/auth/remember-me`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({rememberMe:e.value})}),window.location.href=`${s.public.apiBaseUrl}/auth/google?remember_me=${e.value}`}catch(o){console.error("Failed to set remember me preference:",o),window.location.href=`${s.public.apiBaseUrl}/auth/google?remember_me=${e.value}`}finally{a.value=!1}}};return(o,t)=>(d(),p("div",v,[r("button",{onClick:n,class:"bg-blue-600 hover:bg-blue-700 text-white py-1 px-3 rounded flex items-center"},t[1]||(t[1]=[r("span",{class:"mr-2"},"Login with Google",-1)])),r("div",x,[f(r("input",{type:"checkbox",id:"remember-me","onUpdate:modelValue":t[0]||(t[0]=m=>e.value=m),class:"h-4 w-4 text-blue-600 rounded border-gray-300"},null,512),[[g,e.value]]),t[2]||(t[2]=r("label",{for:"remember-me",class:"ml-2 text-sm text-gray-700"}," Remember me ",-1))])]))}});export{w as _};
