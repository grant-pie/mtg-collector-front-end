import{H as ae,l as P,z as k,I as re,n as R,m as N,j as G,c,o as g,a as t,p as A,F as $,t as h,r as V,s as se,E as I,q as p,v as x,J as oe,D as S,C as E,K as W,k as v,b as ie}from"./DlFx1CQI.js";const L=[10,20,50],ne=10,O=ae("card",{state:()=>({userCards:[],allCards:[],loading:!1,error:null,pagination:{totalItems:0,itemCount:0,itemsPerPage:10,totalPages:0,currentPage:1},validPageSizes:L}),actions:{async fetchCardById(r){const i=P(),a=k();if(!i.token)return null;try{return this.loading=!0,this.error=null,(await $fetch(`${a.public.apiBaseUrl}/user-cards/${r}`,{method:"GET",headers:{Authorization:`Bearer ${i.token}`}})).userCard}catch(d){return console.error("Error fetching card by ID:",d),this.error=d.message||"Failed to fetch card",null}finally{this.loading=!1}},async fetchUserCards(r,i=1,a=10){const d=P(),o=k();if(d.token)try{this.loading=!0,this.error=null;const m=this.validatePageSize(a),f=await $fetch(`${o.public.apiBaseUrl}/user-cards/user/${r}`,{method:"GET",headers:{Authorization:`Bearer ${d.token}`},params:{page:i,limit:m}});this.userCards=f.cards||[],this.pagination=f.pagination||this.pagination}catch(m){console.error("Error fetching user cards:",m),this.error=m.message||"Failed to fetch cards"}finally{this.loading=!1}},async fetchCardsByUsername(r,i){const a=k();try{this.loading=!0,this.error=null,i||(i={}),i.page===void 0&&(i.page=1),i.limit===void 0&&(i.limit=10),i.limit=this.validatePageSize(i.limit);const d=new URLSearchParams;for(const[C,u]of Object.entries(i))u!=null&&u!==""&&(Array.isArray(u)?u.forEach(b=>{d.append(C,b)}):d.append(C,u.toString()));const o=d.toString();let m=`${a.public.apiBaseUrl}/user-cards/username/${r}`;o&&(m+=`?${o}`);const f=await $fetch(m,{method:"GET"});return this.userCards=f.cards||[],this.pagination=f.pagination||this.pagination,this.userCards}catch(d){return console.error("Error fetching cards by username:",d),this.error=d.message||"Failed to fetch cards",[]}finally{this.loading=!1}},async searchUserCards(r,i={}){const a=P(),d=k();if(a.token)try{this.loading=!0,this.error=null,i.page===void 0&&(i.page=1),i.limit===void 0&&(i.limit=10),i.limit=this.validatePageSize(i.limit);const o=new URLSearchParams;for(const[u,b]of Object.entries(i))b!=null&&b!==""&&(Array.isArray(b)?b.forEach(T=>{o.append(u,T)}):o.append(u,b.toString()));const m=o.toString(),f=`${d.public.apiBaseUrl}/user-cards/user/${r}${m?`?${m}`:""}`,C=await $fetch(f,{method:"GET",headers:{Authorization:`Bearer ${a.token}`}});this.userCards=C.cards||[],this.pagination=C.pagination||this.pagination}catch(o){console.error("Error searching user cards:",o),this.error=o.message||"Failed to search cards"}finally{this.loading=!1}},async goToPage(r,i,a={}){if(i<1||i>this.pagination.totalPages)return;const d={...a,page:i};if(a.username){const o=a.username;delete d.username,await this.fetchCardsByUsername(o,d)}else await this.searchUserCards(r,d)},async nextPage(r,i={}){if(this.pagination.currentPage<this.pagination.totalPages){const a={...i,page:this.pagination.currentPage+1};a.limit||(a.limit=this.pagination.itemsPerPage),await this.goToPage(r,this.pagination.currentPage+1,a)}},async prevPage(r,i={}){if(this.pagination.currentPage>1){const a={...i,page:this.pagination.currentPage-1};a.limit||(a.limit=this.pagination.itemsPerPage),await this.goToPage(r,this.pagination.currentPage-1,a)}},async changeItemsPerPage(r,i,a={}){const d=this.validatePageSize(i),o={...a,limit:d,page:1};if(a.username){const m=a.username;delete o.username,await this.fetchCardsByUsername(m,o)}else await this.searchUserCards(r,o)},validatePageSize(r){const i=typeof r=="string"?parseInt(r,10):r;return!isNaN(i)&&L.includes(i)?i:this.pagination&&this.pagination.itemsPerPage&&L.includes(this.pagination.itemsPerPage)?this.pagination.itemsPerPage:ne},async addCardToUser(r,i){const a=P(),d=k();if(a.isAdmin)try{this.loading=!0,this.error=null;const o=await $fetch(`${d.public.apiBaseUrl}/user-cards/${r}`,{method:"POST",headers:{Authorization:`Bearer ${a.token}`,"Content-Type":"application/json"},body:{scryfallId:i}});return await this.fetchUserCards(r,this.pagination.currentPage,this.pagination.itemsPerPage),o}catch(o){console.error("Error adding card:",o),this.error=o.message||"Failed to add card"}finally{this.loading=!1}},async removeCard(r,i){const a=P(),d=k();if(a.token)try{this.loading=!0,this.error=null,await $fetch(`${d.public.apiBaseUrl}/user-cards/${r}`,{method:"DELETE",headers:{Authorization:`Bearer ${a.token}`}}),await this.fetchUserCards(i,this.pagination.currentPage,this.pagination.itemsPerPage)}catch(o){this.error=o.message||"Failed to remove card"}finally{this.loading=!1}},async revealCard(r,i){const a=P(),d=k();if(a.token)try{this.loading=!0,this.error=null;const o=await $fetch(`${d.public.apiBaseUrl}/user-cards/${r}/reveal`,{method:"PATCH",headers:{Authorization:`Bearer ${a.token}`}});return await this.fetchUserCards(i,this.pagination.currentPage,this.pagination.itemsPerPage),o.userCard}catch(o){console.error("Error revealing card:",o),this.error=o.message||"Failed to reveal card"}finally{this.loading=!1}},async setWillingToTrade(r,i,a){const d=P(),o=k();if(d.token){console.log(a);try{this.loading=!0,this.error=null;const m=await $fetch(`${o.public.apiBaseUrl}/user-cards/${r}/trade-willing`,{method:"PATCH",headers:{Authorization:`Bearer ${d.token}`},body:{willingToTrade:!a}});return await this.fetchUserCards(i,this.pagination.currentPage,this.pagination.itemsPerPage),m.userCard}catch(m){console.error("Error revealing card:",m),this.error=m.message||"Failed to reveal card"}finally{this.loading=!1}}},async searchCards(r){const i=P(),a=k();if(i.token)try{this.loading=!0,this.error=null;const d=new URLSearchParams;for(const[m,f]of Object.entries(r))f&&d.append(m,f.toString());const o=await $fetch(`${a.public.apiBaseUrl}/cards?${d.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${i.token}`}});return this.allCards=o||[],this.allCards}catch(d){return console.error("Error searching cards:",d),this.error=d.message||"Failed to search cards",[]}finally{this.loading=!1}},async fetchCardDetails(r){const i=P(),a=k();if(!i.token)return null;try{return await $fetch(`${a.public.apiBaseUrl}/cards/multiverse/${r}`,{method:"GET",headers:{Authorization:`Bearer ${i.token}`}})}catch(d){return console.error("Error fetching card details:",d),null}}}}),le=re("/images/back.jpg"),de={class:"bg-white shadow rounded p-4 flex justify-between"},ue={class:"font-bold"},ce={class:"text-sm text-gray-600"},ge={class:"mt-2"},me={key:0,src:le,alt:"Card Back",class:"w-40"},fe=["src","alt"],ve={key:2,class:"text-sm"},ye={key:0},pe={key:1},he={key:2},be={key:3},xe={key:3,class:"text-sm"},Ce={class:"mt-2 text-sm"},we={key:0},ke={key:1,class:"italic text-gray-500"},Pe={key:2,class:"text-xs text-purple-600 mt-1"},Ae={key:0},Ue=["onClick"],Se={__name:"CardItem",props:{card:{type:Object,required:!0},userId:{type:String,required:!1},actions:{type:Array,required:!1}},emits:["onClickAction","cardRevealed","cardUpdateWillingToTrade"],setup(r,{emit:i}){const a=O(),d=P(),o=R(!1),m=N(()=>d.isAdmin),f=r,C=i;G(()=>{console.log(f.card)});const u=N(()=>new Date(f.card.createdAt).toISOString().split("T")[0]);async function b(){if(!o.value)try{o.value=!0,await a.revealCard(f.card.id,f.userId||f.card.userId),C("cardRevealed",f.card)}catch(n){console.error("Failed to reveal card:",n)}finally{o.value=!1}}async function T(){if(!o.value)try{o.value=!0,await a.setWillingToTrade(f.card.id,f.userId||f.card.userId,f.card.willingToTrade),C("cardUpdateWillingToTrade",f.card)}catch(n){console.error("Failed to set willing to trade:",n)}finally{o.value=!1}}return(n,y)=>(g(),c("div",de,[t("div",null,[r.card.revealed||m.value?(g(),c($,{key:0},[t("h3",ue,h(r.card.cardDetails.name),1),t("p",ce,h(r.card.cardDetails.type),1)],64)):(g(),c($,{key:1},[y[0]||(y[0]=t("h3",{class:"font-bold"},"Mystery Card",-1)),y[1]||(y[1]=t("p",{class:"text-sm text-gray-600"},"Unknown Type",-1))],64)),t("div",ge,[!r.card.revealed&&!m.value?(g(),c("img",me)):(g(),c("img",{key:1,src:r.card.cardDetails.imageUrl||`https://gatherer.wizards.com/Handlers/Image.ashx?multiverseid=${r.card.cardDetails.multiverseId}&type=card`,alt:r.card.cardDetails.name,class:"w-40"},null,8,fe)),r.card.revealed||m.value?(g(),c("div",ve,[r.card.cardDetails.manaCost?(g(),c("p",ye,"Mana Cost: "+h(r.card.cardDetails.manaCost),1)):A("",!0),r.card.cardDetails.rarity?(g(),c("p",pe,"Rarity: "+h(r.card.cardDetails.rarity),1)):A("",!0),t("p",null,"Willing to Trade: "+h(r.card.willingToTrade),1),r.card.createdAt?(g(),c("p",he,"Received: "+h(u.value),1)):A("",!0),m.value?(g(),c("p",be,"Revealed: "+h(r.card.revealed),1)):A("",!0)])):A("",!0),!r.card.revealed&&!m.value&&r.card.createdAt?(g(),c("div",xe,[t("p",null,"Received: "+h(u.value),1)])):A("",!0)]),t("div",Ce,[(r.card.revealed||m.value)&&r.card.cardDetails.text?(g(),c("p",we,h(r.card.cardDetails.text),1)):(g(),c("p",ke,'This card is face down. Click "Reveal" to see its contents.')),m.value&&!r.card.revealed?(g(),c("p",Pe," Admin view: You can see this card's details before it's revealed. ")):A("",!0)]),r.card.revealed?(g(),c("button",{key:3,onClick:T,class:"mt-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm"},h(r.card.willingToTrade?"Unwilling to Trade":"Willing To Trade"),1)):(g(),c("button",{key:2,onClick:b,class:"mt-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm"}," Reveal "))]),r.actions?(g(),c("div",Ae,[(g(!0),c($,null,V(r.actions,w=>(g(),c("button",{key:w,onClick:j=>n.$emit("onClickAction",{action:w,card:r.card}),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-xs"},h(w),9,Ue))),128))])):A("",!0)]))}},$e={class:"mb-6 bg-white p-4 rounded-lg shadow"},Te={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Be={class:"flex space-x-2 mt-1"},Ie=["value"],Ee={class:"grid grid-cols-2 gap-2"},Ne={class:"flex space-x-2"},De={key:0,class:"text-center py-10"},Re={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},Ve={key:2},Me={class:"mb-4 flex justify-between items-center"},ze={class:"text-sm text-gray-600"},Fe={key:0,class:"text-center py-10"},Le={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},je={key:0,class:"absolute inset-0 bg-white bg-opacity-70 flex items-center justify-center"},qe={key:2,class:"mt-6 flex justify-center"},We={class:"flex items-center space-x-2"},Ge=["disabled"],Oe=["disabled"],He={class:"flex space-x-1"},Ze=["onClick"],Je=["disabled"],Ke=["disabled"],Ye={class:"mt-4 flex justify-end"},Qe={class:"flex items-center space-x-2"},_e={__name:"UserCardsList",props:{userName:{type:String,required:!1},userId:{type:String,required:!1},cardActions:{type:Array,required:!1},excludeCards:{type:Array,required:!1}},emits:["onClickAction"],setup(r,{emit:i}){const a=r,d=i,o=O(),{userCards:m,loading:f,error:C,pagination:u}=se(o),b=N(()=>m.value),T=l=>a.excludeCards?a.excludeCards.map(s=>s.id).includes(l.id):!1,n=R({name:"",type:"",rarity:"",set:"",manaCost:"",convertedManaCost:"",minPower:"",minToughness:"",text:"",artist:"",createdAt:"",createdAtStart:"",createdAtEnd:"",orderBy:"",orderDirection:"ASC",page:1,limit:10}),y=R(10),w=R([]),j=N(()=>a.userName),H=N(()=>{const l=u.value.totalPages,e=u.value.currentPage,s=5;if(l<=s)return Array.from({length:l},(te,F)=>F+1);let U=Math.max(1,e-Math.floor(s/2)),D=U+s-1;return D>l&&(D=l,U=Math.max(1,D-s+1)),Array.from({length:D-U+1},(te,F)=>U+F)});I(j,async()=>{a.userName&&(n.value.page=1,await o.fetchCardsByUsername(a.userName,{page:n.value.page,limit:y.value}))}),I(w,l=>{n.value.colors=l.length>0?l:void 0}),I(()=>[n.value.createdAtStart,n.value.createdAtEnd],([l,e])=>{(l||e)&&(n.value.createdAt="")}),I(()=>n.value.createdAt,l=>{l&&(n.value.createdAtStart="",n.value.createdAtEnd="")});const M=l=>l||"";G(async()=>{a.userId&&await o.fetchUserCards(a.userId,1,y.value),a.userName&&await o.fetchCardsByUsername(a.userName,{page:1,limit:y.value})}),I(()=>a.userId,async l=>{l&&(q(),await o.fetchUserCards(l,1,y.value))});const z=async l=>{const e={...B(),page:l,limit:y.value};a.userId?await o.searchUserCards(a.userId,e):a.userName&&await o.fetchCardsByUsername(a.userName,e)},Z=()=>{u.value.currentPage!==1&&z(1)},J=()=>{u.value.currentPage!==u.value.totalPages&&z(u.value.totalPages)},K=async()=>{if(u.value.currentPage<u.value.totalPages){const l=u.value.currentPage+1,e={...B(),page:l,limit:y.value};a.userId?await o.searchUserCards(a.userId,e):a.userName&&await o.fetchCardsByUsername(a.userName,e)}},Y=async()=>{if(u.value.currentPage>1){const l=u.value.currentPage-1,e={...B(),page:l,limit:y.value};a.userId?await o.searchUserCards(a.userId,e):a.userName&&await o.fetchCardsByUsername(a.userName,e)}},Q=async()=>{const l=Number(y.value);n.value.limit=l,n.value.page=1;const e=B();a.userId?await o.searchUserCards(a.userId,e):a.userName&&await o.fetchCardsByUsername(a.userName,e)},B=()=>{const l={};for(const[e,s]of Object.entries(n.value))s!==""&&s!==void 0&&s!==null&&(l[e]=s);return w.value.length>0&&(l.colors=w.value),l.createdAt&&(l.createdAt=M(l.createdAt)),l.createdAtStart&&(l.createdAtStart=M(l.createdAtStart)),l.createdAtEnd&&(l.createdAtEnd=M(l.createdAtEnd)),l.limit=y.value,l.page=n.value.page||1,l},X=async()=>{const l=B();l.limit=y.value,a.userId?await o.searchUserCards(a.userId,l):a.userName&&await o.fetchCardsByUsername(a.userName,l)},_=async()=>{n.value.page=1,await X()},q=async()=>{n.value={name:"",type:"",rarity:"",set:"",manaCost:"",convertedManaCost:"",minPower:"",minToughness:"",text:"",artist:"",revealed:"",createdAt:"",createdAtStart:"",createdAtEnd:"",orderBy:"",orderDirection:"ASC",page:1,limit:y.value},w.value=[],a.userId?await o.fetchUserCards(a.userId,1,y.value):a.userName&&await o.fetchCardsByUsername(a.userName,{page:1,limit:y.value})},ee=l=>{d("onClickAction",l)};return(l,e)=>(g(),c("div",null,[t("div",$e,[e[37]||(e[37]=t("h3",{class:"text-lg font-medium mb-4"},"Search Cards",-1)),t("div",Te,[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700"},"Card Name",-1)),p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>n.value.name=s),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,n.value.name]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700"},"Card Type",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>n.value.type=s),type:"text",placeholder:"Creature, Instant, etc.",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,n.value.type]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700"},"Colors",-1)),t("div",Be,[(g(),c($,null,V(["W","U","B","R","G"],s=>t("label",{key:s,class:"inline-flex items-center"},[p(t("input",{type:"checkbox",value:s,"onUpdate:modelValue":e[2]||(e[2]=U=>w.value=U),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,8,Ie),[[oe,w.value]]),t("span",{class:S(["ml-1",{"text-yellow-500 font-bold":s==="W","text-blue-500 font-bold":s==="U","text-gray-800 font-bold":s==="B","text-red-500 font-bold":s==="R","text-green-500 font-bold":s==="G"}])},h(s),3)])),64))])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700"},"Revealed",-1)),p(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>n.value.revealed=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},e[21]||(e[21]=[t("option",{value:""},"Any",-1),t("option",{value:"true"},"Revealed",-1),t("option",{value:"false"},"Not Revealed",-1)]),512),[[E,n.value.revealed]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm font-medium text-gray-700"},"Rarity",-1)),p(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>n.value.rarity=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},e[23]||(e[23]=[W('<option value="">Any</option><option value="common">Common</option><option value="uncommon">Uncommon</option><option value="rare">Rare</option><option value="mythic">Mythic</option>',5)]),512),[[E,n.value.rarity]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700"},"Set",-1)),p(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>n.value.set=s),type:"text",placeholder:"e.g. ZNR",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,n.value.set]])]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700"},"Mana Cost",-1)),p(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>n.value.manaCost=s),type:"text",placeholder:"e.g. {2}{W}{W}",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,n.value.manaCost]])]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700"},"CMC",-1)),p(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>n.value.convertedManaCost=s),type:"number",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,n.value.convertedManaCost]])]),t("div",null,[e[28]||(e[28]=t("label",{class:"block text-sm font-medium text-gray-700"},"Min Power",-1)),p(t("input",{"onUpdate:modelValue":e[8]||(e[8]=s=>n.value.minPower=s),type:"number",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,n.value.minPower]])]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700"},"Min Toughness",-1)),p(t("input",{"onUpdate:modelValue":e[9]||(e[9]=s=>n.value.minToughness=s),type:"number",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,n.value.minToughness]])]),t("div",null,[e[30]||(e[30]=t("label",{class:"block text-sm font-medium text-gray-700"},"Card Text",-1)),p(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>n.value.text=s),type:"text",placeholder:"Search card text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,n.value.text]])]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700"},"Artist",-1)),p(t("input",{"onUpdate:modelValue":e[11]||(e[11]=s=>n.value.artist=s),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,n.value.artist]])]),t("div",null,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700"},"Received On",-1)),p(t("input",{"onUpdate:modelValue":e[12]||(e[12]=s=>n.value.createdAt=s),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,n.value.createdAt]])]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700"},"Received Between",-1)),t("div",Ee,[t("div",null,[p(t("input",{"onUpdate:modelValue":e[13]||(e[13]=s=>n.value.createdAtStart=s),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"From"},null,512),[[x,n.value.createdAtStart]])]),t("div",null,[p(t("input",{"onUpdate:modelValue":e[14]||(e[14]=s=>n.value.createdAtEnd=s),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"To"},null,512),[[x,n.value.createdAtEnd]])])])]),t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700"},"Sort By",-1)),t("div",Ne,[p(t("select",{"onUpdate:modelValue":e[15]||(e[15]=s=>n.value.orderBy=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},e[34]||(e[34]=[W('<option value="">Default</option><option value="name">Name</option><option value="convertedManaCost">CMC</option><option value="rarity">Rarity</option><option value="set">Set</option><option value="createdAt">Received Date</option>',6)]),512),[[E,n.value.orderBy]]),p(t("select",{"onUpdate:modelValue":e[16]||(e[16]=s=>n.value.orderDirection=s),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},e[35]||(e[35]=[t("option",{value:"ASC"},"Ascending",-1),t("option",{value:"DESC"},"Descending",-1)]),512),[[E,n.value.orderDirection]])])])]),t("div",{class:"mt-4 flex justify-end space-x-3"},[t("button",{onClick:q,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300"}," Reset "),t("button",{onClick:_,class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"}," Search ")])]),v(f)?(g(),c("div",De,e[38]||(e[38]=[t("p",null,"Loading cards...",-1)]))):v(C)?(g(),c("div",Re,h(v(C)),1)):(g(),c("div",Ve,[t("div",Me,[e[39]||(e[39]=t("h3",{class:"text-lg font-medium"},"Card List",-1)),t("p",ze," Showing "+h(v(u).itemCount)+" of "+h(v(u).totalItems)+" cards (Page "+h(v(u).currentPage)+" of "+h(v(u).totalPages)+") ",1)]),b.value.length===0?(g(),c("div",Fe,e[40]||(e[40]=[t("p",null,"No cards found matching your criteria.",-1)]))):(g(),c("div",Le,[(g(!0),c($,null,V(v(m),s=>(g(),c("div",{key:s.id,class:"relative"},[ie(Se,{card:s,userId:r.userId,actions:r.cardActions,onOnClickAction:ee},null,8,["card","userId","actions"]),T(s)?(g(),c("div",je,e[41]||(e[41]=[t("p",{class:"text-lg font-bold text-gray-800"},"Selected",-1)]))):A("",!0)]))),128))])),v(u).totalPages>1?(g(),c("div",qe,[t("nav",We,[t("button",{onClick:Z,disabled:v(u).currentPage===1,class:S(["px-3 py-1 rounded border",v(u).currentPage===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-gray-50"])}," « ",10,Ge),t("button",{onClick:Y,disabled:v(u).currentPage===1,class:S(["px-3 py-1 rounded border",v(u).currentPage===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-gray-50"])}," ‹ ",10,Oe),t("div",He,[(g(!0),c($,null,V(H.value,s=>(g(),c("button",{key:s,onClick:U=>z(s),class:S(["px-3 py-1 rounded border",s===v(u).currentPage?"bg-indigo-600 text-white":"bg-white hover:bg-gray-50"])},h(s),11,Ze))),128))]),t("button",{onClick:K,disabled:v(u).currentPage===v(u).totalPages,class:S(["px-3 py-1 rounded border",v(u).currentPage===v(u).totalPages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-gray-50"])}," › ",10,Je),t("button",{onClick:J,disabled:v(u).currentPage===v(u).totalPages,class:S(["px-3 py-1 rounded border",v(u).currentPage===v(u).totalPages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-gray-50"])}," » ",10,Ke)])])):A("",!0),t("div",Ye,[t("div",Qe,[e[43]||(e[43]=t("label",{class:"text-sm text-gray-600"},"Items per page:",-1)),p(t("select",{"onUpdate:modelValue":e[17]||(e[17]=s=>y.value=s),onChange:Q,class:"rounded border-gray-300 text-sm focus:border-indigo-500 focus:ring-indigo-500"},e[42]||(e[42]=[t("option",{value:"10"},"10",-1),t("option",{value:"20"},"20",-1),t("option",{value:"50"},"50",-1)]),544),[[E,y.value]])])])]))]))}};export{_e as _,O as u};
