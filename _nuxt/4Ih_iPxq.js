import{H as ae,l as A,z as P,I as re,n as V,m as S,c,o as g,a as t,p as w,F as $,t as h,r as M,s as se,E as N,j as oe,q as p,J as j,v as x,K as ie,D as T,C as D,L as O,k as y,b as ne}from"./CcuqGOUj.js";const q=[10,20,50],le=10,H=ae("card",{state:()=>({userCards:[],allCards:[],loading:!1,error:null,pagination:{totalItems:0,itemCount:0,itemsPerPage:10,totalPages:0,currentPage:1},validPageSizes:q}),actions:{async fetchCardById(s){const n=A(),a=P();if(!n.token)return null;try{return this.loading=!0,this.error=null,(await $fetch(`${a.public.apiBaseUrl}/user-cards/${s}`,{method:"GET",headers:{Authorization:`Bearer ${n.token}`}})).userCard}catch(d){return console.error("Error fetching card by ID:",d),this.error=d.message||"Failed to fetch card",null}finally{this.loading=!1}},async fetchUserCards(s,n=1,a=10){const d=A(),o=P();if(d.token)try{this.loading=!0,this.error=null;const m=this.validatePageSize(a),f=await $fetch(`${o.public.apiBaseUrl}/user-cards/user/${s}`,{method:"GET",headers:{Authorization:`Bearer ${d.token}`},params:{page:n,limit:m}});this.userCards=f.cards||[],this.pagination=f.pagination||this.pagination}catch(m){console.error("Error fetching user cards:",m),this.error=m.message||"Failed to fetch cards"}finally{this.loading=!1}},async fetchCardsByUsername(s,n){const a=P();try{this.loading=!0,this.error=null,n||(n={}),n.page===void 0&&(n.page=1),n.limit===void 0&&(n.limit=10),n.limit=this.validatePageSize(n.limit);const d=new URLSearchParams;for(const[C,u]of Object.entries(n))u!=null&&u!==""&&(Array.isArray(u)?u.forEach(b=>{d.append(C,b)}):d.append(C,u.toString()));const o=d.toString();let m=`${a.public.apiBaseUrl}/user-cards/username/${s}`;o&&(m+=`?${o}`);const f=await $fetch(m,{method:"GET"});return this.userCards=f.cards||[],this.pagination=f.pagination||this.pagination,this.userCards}catch(d){return console.error("Error fetching cards by username:",d),this.error=d.message||"Failed to fetch cards",[]}finally{this.loading=!1}},async searchUserCards(s,n={}){const a=A(),d=P();if(a.token)try{this.loading=!0,this.error=null,n.page===void 0&&(n.page=1),n.limit===void 0&&(n.limit=10),n.limit=this.validatePageSize(n.limit);const o=new URLSearchParams;for(const[u,b]of Object.entries(n))b!=null&&b!==""&&(Array.isArray(b)?b.forEach(I=>{o.append(u,I)}):o.append(u,b.toString()));const m=o.toString(),f=`${d.public.apiBaseUrl}/user-cards/user/${s}${m?`?${m}`:""}`,C=await $fetch(f,{method:"GET",headers:{Authorization:`Bearer ${a.token}`}});this.userCards=C.cards||[],this.pagination=C.pagination||this.pagination}catch(o){console.error("Error searching user cards:",o),this.error=o.message||"Failed to search cards"}finally{this.loading=!1}},async goToPage(s,n,a={}){if(n<1||n>this.pagination.totalPages)return;const d={...a,page:n};if(a.username){const o=a.username;delete d.username,await this.fetchCardsByUsername(o,d)}else await this.searchUserCards(s,d)},async nextPage(s,n={}){if(this.pagination.currentPage<this.pagination.totalPages){const a={...n,page:this.pagination.currentPage+1};a.limit||(a.limit=this.pagination.itemsPerPage),await this.goToPage(s,this.pagination.currentPage+1,a)}},async prevPage(s,n={}){if(this.pagination.currentPage>1){const a={...n,page:this.pagination.currentPage-1};a.limit||(a.limit=this.pagination.itemsPerPage),await this.goToPage(s,this.pagination.currentPage-1,a)}},async changeItemsPerPage(s,n,a={}){const d=this.validatePageSize(n),o={...a,limit:d,page:1};if(a.username){const m=a.username;delete o.username,await this.fetchCardsByUsername(m,o)}else await this.searchUserCards(s,o)},validatePageSize(s){const n=typeof s=="string"?parseInt(s,10):s;return!isNaN(n)&&q.includes(n)?n:this.pagination&&this.pagination.itemsPerPage&&q.includes(this.pagination.itemsPerPage)?this.pagination.itemsPerPage:le},async addCardToUser(s,n){const a=A(),d=P();if(a.isAdmin)try{this.loading=!0,this.error=null;const o=await $fetch(`${d.public.apiBaseUrl}/user-cards/${s}`,{method:"POST",headers:{Authorization:`Bearer ${a.token}`,"Content-Type":"application/json"},body:{scryfallId:n}});return await this.fetchUserCards(s,this.pagination.currentPage,this.pagination.itemsPerPage),o}catch(o){console.error("Error adding card:",o),this.error=o.message||"Failed to add card"}finally{this.loading=!1}},async removeCard(s,n){const a=A(),d=P();if(a.token)try{this.loading=!0,this.error=null,await $fetch(`${d.public.apiBaseUrl}/user-cards/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${a.token}`}}),await this.fetchUserCards(n,this.pagination.currentPage,this.pagination.itemsPerPage)}catch(o){this.error=o.message||"Failed to remove card"}finally{this.loading=!1}},async revealCard(s,n){const a=A(),d=P();if(a.token)try{this.loading=!0,this.error=null;const o=await $fetch(`${d.public.apiBaseUrl}/user-cards/${s}/reveal`,{method:"PATCH",headers:{Authorization:`Bearer ${a.token}`}});return await this.fetchUserCards(n,this.pagination.currentPage,this.pagination.itemsPerPage),o.userCard}catch(o){console.error("Error revealing card:",o),this.error=o.message||"Failed to reveal card"}finally{this.loading=!1}},async setWillingToTrade(s,n,a){const d=A(),o=P();if(d.token){console.log(a);try{this.loading=!0,this.error=null;const m=await $fetch(`${o.public.apiBaseUrl}/user-cards/${s}/trade-willing`,{method:"PATCH",headers:{Authorization:`Bearer ${d.token}`},body:{willingToTrade:!a}});return await this.fetchUserCards(n,this.pagination.currentPage,this.pagination.itemsPerPage),m.userCard}catch(m){console.error("Error revealing card:",m),this.error=m.message||"Failed to reveal card"}finally{this.loading=!1}}},async searchCards(s){const n=A(),a=P();if(n.token)try{this.loading=!0,this.error=null;const d=new URLSearchParams;for(const[m,f]of Object.entries(s))f&&d.append(m,f.toString());const o=await $fetch(`${a.public.apiBaseUrl}/cards?${d.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${n.token}`}});return this.allCards=o||[],this.allCards}catch(d){return console.error("Error searching cards:",d),this.error=d.message||"Failed to search cards",[]}finally{this.loading=!1}},async fetchCardDetails(s){const n=A(),a=P();if(!n.token)return null;try{return await $fetch(`${a.public.apiBaseUrl}/cards/multiverse/${s}`,{method:"GET",headers:{Authorization:`Bearer ${n.token}`}})}catch(d){return console.error("Error fetching card details:",d),null}}}}),de=re("/images/back.jpg"),ue={class:"bg-white shadow rounded p-4 flex justify-between"},ce={class:"font-bold"},ge={class:"text-sm text-gray-600"},me={class:"mt-2"},fe={key:0,src:de,alt:"Card Back",class:"w-40"},ve=["src","alt"],ye={key:2,class:"text-sm"},pe={key:0},he={key:1},be={key:2},xe={key:3},we={key:3,class:"text-sm"},Ce={class:"mt-2 text-sm"},ke={key:0},Pe={key:1,class:"italic text-gray-500"},Ae={key:2,class:"text-xs text-purple-600 mt-1"},Ue={key:0},Te=["onClick"],Se={__name:"CardItem",props:{card:{type:Object,required:!0},userId:{type:String,required:!1},actions:{type:Array,required:!1}},emits:["onClickAction","cardRevealed","cardUpdateWillingToTrade"],setup(s,{emit:n}){const a=H(),d=A(),o=V(!1),m=S(()=>d.isAdmin),f=s,C=S(()=>d.userId),u=n,b=S(()=>new Date(f.card.createdAt).toISOString().split("T")[0]);async function I(){if(!o.value)try{o.value=!0,await a.revealCard(f.card.id,f.userId||f.card.userId),u("cardRevealed",f.card)}catch(v){console.error("Failed to reveal card:",v)}finally{o.value=!1}}async function i(){if(!o.value)try{o.value=!0,await a.setWillingToTrade(f.card.id,f.userId||f.card.userId,f.card.willingToTrade),u("cardUpdateWillingToTrade",f.card)}catch(v){console.error("Failed to set willing to trade:",v)}finally{o.value=!1}}return(v,k)=>(g(),c("div",ue,[t("div",null,[s.card.revealed||m.value?(g(),c($,{key:0},[t("h3",ce,h(s.card.cardDetails.name),1),t("p",ge,h(s.card.cardDetails.type),1)],64)):(g(),c($,{key:1},[k[0]||(k[0]=t("h3",{class:"font-bold"},"Mystery Card",-1)),k[1]||(k[1]=t("p",{class:"text-sm text-gray-600"},"Unknown Type",-1))],64)),t("div",me,[!s.card.revealed&&!m.value?(g(),c("img",fe)):(g(),c("img",{key:1,src:s.card.cardDetails.imageUrl||`https://gatherer.wizards.com/Handlers/Image.ashx?multiverseid=${s.card.cardDetails.multiverseId}&type=card`,alt:s.card.cardDetails.name,class:"w-40"},null,8,ve)),s.card.revealed||m.value?(g(),c("div",ye,[s.card.cardDetails.manaCost?(g(),c("p",pe,"Mana Cost: "+h(s.card.cardDetails.manaCost),1)):w("",!0),s.card.cardDetails.rarity?(g(),c("p",he,"Rarity: "+h(s.card.cardDetails.rarity),1)):w("",!0),t("p",null,"Willing to Trade: "+h(s.card.willingToTrade),1),s.card.createdAt?(g(),c("p",be,"Received: "+h(b.value),1)):w("",!0),m.value?(g(),c("p",xe,"Revealed: "+h(s.card.revealed),1)):w("",!0)])):w("",!0),!s.card.revealed&&!m.value&&s.card.createdAt?(g(),c("div",we,[t("p",null,"Received: "+h(b.value),1)])):w("",!0)]),t("div",Ce,[(s.card.revealed||m.value)&&s.card.cardDetails.text?(g(),c("p",ke,h(s.card.cardDetails.text),1)):(g(),c("p",Pe,'This card is face down. Click "Reveal" to see its contents.')),m.value&&!s.card.revealed?(g(),c("p",Ae," Admin view: You can see this card's details before it's revealed. ")):w("",!0)]),!s.card.revealed&&C.value===s.userId?(g(),c("button",{key:2,onClick:I,class:"mt-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm"}," Reveal ")):w("",!0),s.card.revealed&&C.value===s.userId?(g(),c("button",{key:3,onClick:i,class:"mt-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm"},h(s.card.willingToTrade?"Unwilling to Trade":"Willing To Trade"),1)):w("",!0)]),s.actions?(g(),c("div",Ue,[(g(!0),c($,null,M(s.actions,B=>(g(),c("button",{key:B,onClick:W=>v.$emit("onClickAction",{action:B,card:s.card}),class:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded text-xs"},h(B),9,Te))),128))])):w("",!0)]))}},$e={class:"mb-6 bg-white p-4 rounded-lg shadow"},Ie={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Be={class:"flex space-x-2 mt-1"},Ee=["value"],Ne={class:"grid grid-cols-2 gap-2"},De={class:"flex space-x-2"},Re={key:0,class:"text-center py-10"},Ve={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},Me={key:2},ze={class:"mb-4 flex justify-between items-center"},Fe={class:"text-sm text-gray-600"},Le={key:0,class:"text-center py-10"},je={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},qe={key:0,class:"absolute inset-0 bg-white bg-opacity-70 flex items-center justify-center"},We={key:2,class:"mt-6 flex justify-center"},Ge={class:"flex items-center space-x-2"},Oe=["disabled"],He=["disabled"],Ze={class:"flex space-x-1"},Je=["onClick"],Ke=["disabled"],Ye=["disabled"],Qe={class:"mt-4 flex justify-end"},Xe={class:"flex items-center space-x-2"},et={__name:"UserCardsList",props:{userName:{type:String,required:!1},userId:{type:String,required:!1},cardActions:{type:Array,required:!1},excludeCards:{type:Array,required:!1}},emits:["onClickAction"],setup(s,{emit:n}){const a=s,d=n,o=H(),{userCards:m,loading:f,error:C,pagination:u}=se(o),b=S(()=>m.value),I=l=>a.excludeCards?a.excludeCards.map(r=>r.id).includes(l.id):!1,i=V({name:"",type:"",rarity:"",set:"",manaCost:"",convertedManaCost:"",minPower:"",minToughness:"",text:"",createdAt:"",willingToTrade:"",createdAtStart:"",createdAtEnd:"",orderBy:"",orderDirection:"ASC",page:1,limit:10}),v=V(10),k=V([]),B=S(()=>a.userName),W=S(()=>{const l=u.value.totalPages,e=u.value.currentPage,r=5;if(l<=r)return Array.from({length:l},(te,L)=>L+1);let U=Math.max(1,e-Math.floor(r/2)),R=U+r-1;return R>l&&(R=l,U=Math.max(1,R-r+1)),Array.from({length:R-U+1},(te,L)=>U+L)});N(B,async()=>{a.userName&&(i.value.page=1,await o.fetchCardsByUsername(a.userName,{page:i.value.page,limit:v.value}))}),N(k,l=>{i.value.colors=l.length>0?l:void 0}),N(()=>[i.value.createdAtStart,i.value.createdAtEnd],([l,e])=>{(l||e)&&(i.value.createdAt="")}),N(()=>i.value.createdAt,l=>{l&&(i.value.createdAtStart="",i.value.createdAtEnd="")});const z=l=>l||"";oe(async()=>{a.userId&&await o.fetchUserCards(a.userId,1,v.value),a.userName&&await o.fetchCardsByUsername(a.userName,{page:1,limit:v.value})}),N(()=>a.userId,async l=>{l&&(G(),await o.fetchUserCards(l,1,v.value))});const F=async l=>{const e={...E(),page:l,limit:v.value};a.userId?await o.searchUserCards(a.userId,e):a.userName&&await o.fetchCardsByUsername(a.userName,e)},Z=()=>{u.value.currentPage!==1&&F(1)},J=()=>{u.value.currentPage!==u.value.totalPages&&F(u.value.totalPages)},K=async()=>{if(u.value.currentPage<u.value.totalPages){const l=u.value.currentPage+1,e={...E(),page:l,limit:v.value};a.userId?await o.searchUserCards(a.userId,e):a.userName&&await o.fetchCardsByUsername(a.userName,e)}},Y=async()=>{if(u.value.currentPage>1){const l=u.value.currentPage-1,e={...E(),page:l,limit:v.value};a.userId?await o.searchUserCards(a.userId,e):a.userName&&await o.fetchCardsByUsername(a.userName,e)}},Q=async()=>{const l=Number(v.value);i.value.limit=l,i.value.page=1;const e=E();a.userId?await o.searchUserCards(a.userId,e):a.userName&&await o.fetchCardsByUsername(a.userName,e)},E=()=>{const l={};for(const[e,r]of Object.entries(i.value))r!==""&&r!==void 0&&r!==null&&(l[e]=r);return k.value.length>0&&(l.colors=k.value),l.createdAt&&(l.createdAt=z(l.createdAt)),l.createdAtStart&&(l.createdAtStart=z(l.createdAtStart)),l.createdAtEnd&&(l.createdAtEnd=z(l.createdAtEnd)),l.limit=v.value,l.page=i.value.page||1,l},X=async()=>{const l=E();l.limit=v.value,a.userId?await o.searchUserCards(a.userId,l):a.userName&&await o.fetchCardsByUsername(a.userName,l)},_=async()=>{i.value.page=1,await X()},G=async()=>{i.value={name:"",type:"",rarity:"",set:"",manaCost:"",convertedManaCost:"",minPower:"",minToughness:"",text:"",artist:"",willingToTrade:"",createdAt:"",createdAtStart:"",createdAtEnd:"",orderBy:"",orderDirection:"ASC",page:1,limit:v.value},k.value=[],a.userId?await o.fetchUserCards(a.userId,1,v.value):a.userName&&await o.fetchCardsByUsername(a.userName,{page:1,limit:v.value})},ee=l=>{d("onClickAction",l)};return(l,e)=>(g(),c("div",null,[t("div",$e,[e[44]||(e[44]=t("h3",{class:"text-lg font-medium mb-4"},"Search Cards",-1)),t("div",Ie,[t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm font-medium text-gray-700"},"Willing to Trade",-1)),p(t("input",{type:"radio",value:"true","onUpdate:modelValue":e[0]||(e[0]=r=>i.value.willingToTrade=r),name:"willing_to_trade",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[j,i.value.willingToTrade]]),e[22]||(e[22]=t("label",{for:"true",class:"ml-1"},"Willing",-1)),p(t("input",{type:"radio",value:"false","onUpdate:modelValue":e[1]||(e[1]=r=>i.value.willingToTrade=r),name:"willing_to_trade",class:"ml-2 rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[j,i.value.willingToTrade]]),e[23]||(e[23]=t("label",{for:"false",class:"ml-1"},"Unwilling",-1)),p(t("input",{type:"radio",value:"","onUpdate:modelValue":e[2]||(e[2]=r=>i.value.willingToTrade=r),name:"willing_to_trade",class:"ml-2 rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[j,i.value.willingToTrade]]),e[24]||(e[24]=t("label",{for:"",class:"ml-1"},"Any",-1))]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-sm font-medium text-gray-700"},"Card Name",-1)),p(t("input",{"onUpdate:modelValue":e[3]||(e[3]=r=>i.value.name=r),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,i.value.name]])]),t("div",null,[e[26]||(e[26]=t("label",{class:"block text-sm font-medium text-gray-700"},"Card Type",-1)),p(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>i.value.type=r),type:"text",placeholder:"Creature, Instant, etc.",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,i.value.type]])]),t("div",null,[e[27]||(e[27]=t("label",{class:"block text-sm font-medium text-gray-700"},"Colors",-1)),t("div",Be,[(g(),c($,null,M(["W","U","B","R","G"],r=>t("label",{key:r,class:"inline-flex items-center"},[p(t("input",{type:"checkbox",value:r,"onUpdate:modelValue":e[5]||(e[5]=U=>k.value=U),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,8,Ee),[[ie,k.value]]),t("span",{class:T(["ml-1",{"text-yellow-500 font-bold":r==="W","text-blue-500 font-bold":r==="U","text-gray-800 font-bold":r==="B","text-red-500 font-bold":r==="R","text-green-500 font-bold":r==="G"}])},h(r),3)])),64))])]),t("div",null,[e[29]||(e[29]=t("label",{class:"block text-sm font-medium text-gray-700"},"Revealed",-1)),p(t("select",{"onUpdate:modelValue":e[6]||(e[6]=r=>i.value.revealed=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},e[28]||(e[28]=[t("option",{value:""},"Any",-1),t("option",{value:"true"},"Revealed",-1),t("option",{value:"false"},"Not Revealed",-1)]),512),[[D,i.value.revealed]])]),t("div",null,[e[31]||(e[31]=t("label",{class:"block text-sm font-medium text-gray-700"},"Rarity",-1)),p(t("select",{"onUpdate:modelValue":e[7]||(e[7]=r=>i.value.rarity=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},e[30]||(e[30]=[O('<option value="">Any</option><option value="common">Common</option><option value="uncommon">Uncommon</option><option value="rare">Rare</option><option value="mythic">Mythic</option>',5)]),512),[[D,i.value.rarity]])]),t("div",null,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700"},"Set",-1)),p(t("input",{"onUpdate:modelValue":e[8]||(e[8]=r=>i.value.set=r),type:"text",placeholder:"e.g. ZNR",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,i.value.set]])]),t("div",null,[e[33]||(e[33]=t("label",{class:"block text-sm font-medium text-gray-700"},"Mana Cost",-1)),p(t("input",{"onUpdate:modelValue":e[9]||(e[9]=r=>i.value.manaCost=r),type:"text",placeholder:"e.g. {2}{W}{W}",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,i.value.manaCost]])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700"},"CMC",-1)),p(t("input",{"onUpdate:modelValue":e[10]||(e[10]=r=>i.value.convertedManaCost=r),type:"number",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,i.value.convertedManaCost]])]),t("div",null,[e[35]||(e[35]=t("label",{class:"block text-sm font-medium text-gray-700"},"Min Power",-1)),p(t("input",{"onUpdate:modelValue":e[11]||(e[11]=r=>i.value.minPower=r),type:"number",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,i.value.minPower]])]),t("div",null,[e[36]||(e[36]=t("label",{class:"block text-sm font-medium text-gray-700"},"Min Toughness",-1)),p(t("input",{"onUpdate:modelValue":e[12]||(e[12]=r=>i.value.minToughness=r),type:"number",min:"0",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,i.value.minToughness]])]),t("div",null,[e[37]||(e[37]=t("label",{class:"block text-sm font-medium text-gray-700"},"Card Text",-1)),p(t("input",{"onUpdate:modelValue":e[13]||(e[13]=r=>i.value.text=r),type:"text",placeholder:"Search card text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,i.value.text]])]),t("div",null,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-700"},"Artist",-1)),p(t("input",{"onUpdate:modelValue":e[14]||(e[14]=r=>i.value.artist=r),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,i.value.artist]])]),t("div",null,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700"},"Received On",-1)),p(t("input",{"onUpdate:modelValue":e[15]||(e[15]=r=>i.value.createdAt=r),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[x,i.value.createdAt]])]),t("div",null,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700"},"Received Between",-1)),t("div",Ne,[t("div",null,[p(t("input",{"onUpdate:modelValue":e[16]||(e[16]=r=>i.value.createdAtStart=r),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"From"},null,512),[[x,i.value.createdAtStart]])]),t("div",null,[p(t("input",{"onUpdate:modelValue":e[17]||(e[17]=r=>i.value.createdAtEnd=r),type:"date",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"To"},null,512),[[x,i.value.createdAtEnd]])])])]),t("div",null,[e[43]||(e[43]=t("label",{class:"block text-sm font-medium text-gray-700"},"Sort By",-1)),t("div",De,[p(t("select",{"onUpdate:modelValue":e[18]||(e[18]=r=>i.value.orderBy=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},e[41]||(e[41]=[O('<option value="">Default</option><option value="name">Name</option><option value="convertedManaCost">CMC</option><option value="rarity">Rarity</option><option value="set">Set</option><option value="createdAt">Received Date</option>',6)]),512),[[D,i.value.orderBy]]),p(t("select",{"onUpdate:modelValue":e[19]||(e[19]=r=>i.value.orderDirection=r),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"},e[42]||(e[42]=[t("option",{value:"ASC"},"Ascending",-1),t("option",{value:"DESC"},"Descending",-1)]),512),[[D,i.value.orderDirection]])])])]),t("div",{class:"mt-4 flex justify-end space-x-3"},[t("button",{onClick:G,class:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300"}," Reset "),t("button",{onClick:_,class:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700"}," Search ")])]),y(f)?(g(),c("div",Re,e[45]||(e[45]=[t("p",null,"Loading cards...",-1)]))):y(C)?(g(),c("div",Ve,h(y(C)),1)):(g(),c("div",Me,[t("div",ze,[e[46]||(e[46]=t("h3",{class:"text-lg font-medium"},"Card List",-1)),t("p",Fe," Showing "+h(y(u).itemCount)+" of "+h(y(u).totalItems)+" cards (Page "+h(y(u).currentPage)+" of "+h(y(u).totalPages)+") ",1)]),b.value.length===0?(g(),c("div",Le,e[47]||(e[47]=[t("p",null,"No cards found matching your criteria.",-1)]))):(g(),c("div",je,[(g(!0),c($,null,M(y(m),r=>(g(),c("div",{key:r.id,class:"relative"},[ne(Se,{card:r,userId:s.userId,actions:s.cardActions,onOnClickAction:ee},null,8,["card","userId","actions"]),I(r)?(g(),c("div",qe,e[48]||(e[48]=[t("p",{class:"text-lg font-bold text-gray-800"},"Selected",-1)]))):w("",!0)]))),128))])),y(u).totalPages>1?(g(),c("div",We,[t("nav",Ge,[t("button",{onClick:Z,disabled:y(u).currentPage===1,class:T(["px-3 py-1 rounded border",y(u).currentPage===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-gray-50"])}," « ",10,Oe),t("button",{onClick:Y,disabled:y(u).currentPage===1,class:T(["px-3 py-1 rounded border",y(u).currentPage===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-gray-50"])}," ‹ ",10,He),t("div",Ze,[(g(!0),c($,null,M(W.value,r=>(g(),c("button",{key:r,onClick:U=>F(r),class:T(["px-3 py-1 rounded border",r===y(u).currentPage?"bg-indigo-600 text-white":"bg-white hover:bg-gray-50"])},h(r),11,Je))),128))]),t("button",{onClick:K,disabled:y(u).currentPage===y(u).totalPages,class:T(["px-3 py-1 rounded border",y(u).currentPage===y(u).totalPages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-gray-50"])}," › ",10,Ke),t("button",{onClick:J,disabled:y(u).currentPage===y(u).totalPages,class:T(["px-3 py-1 rounded border",y(u).currentPage===y(u).totalPages?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white hover:bg-gray-50"])}," » ",10,Ye)])])):w("",!0),t("div",Qe,[t("div",Xe,[e[50]||(e[50]=t("label",{class:"text-sm text-gray-600"},"Items per page:",-1)),p(t("select",{"onUpdate:modelValue":e[20]||(e[20]=r=>v.value=r),onChange:Q,class:"rounded border-gray-300 text-sm focus:border-indigo-500 focus:ring-indigo-500"},e[49]||(e[49]=[t("option",{value:"10"},"10",-1),t("option",{value:"20"},"20",-1),t("option",{value:"50"},"50",-1)]),544),[[D,v.value]])])])]))]))}};export{et as _,H as u};
