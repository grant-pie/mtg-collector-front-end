import{_}from"./Hp_vwbGl.js";import{g as m,s as u,j as x,c as s,o,b as p,a as t,k as d,t as n,F as y,r as f,w as h,d as g}from"./NH000gxJ.js";import{u as k}from"./CTVtiE_u.js";import{_ as v}from"./BqLKPpfH.js";import"./CxcP87si.js";const w={class:"mt-8"},N={key:0,class:"text-center py-10"},M={key:1,class:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},U={key:2,class:"bg-white p-6 rounded shadow-md"},A={key:0,class:"text-center py-6"},B={key:1},C={class:"min-w-full bg-white"},L={class:"py-2 px-4 border-b"},S={class:"py-2 px-4 border-b"},V={class:"py-2 px-4 border-b"},D={class:"py-2 px-4 border-b text-center"},z=m({__name:"index",setup(E){const l=k(),{users:a,loading:c,error:i}=u(l);return x(async()=>{await l.fetchAllUsers(),console.log("Users loaded:",a.value)}),(F,e)=>{const b=_;return o(),s("div",null,[p(v,{title:"Admin Dashboard",subtitle:"Manage users and cards"}),t("div",w,[d(c)?(o(),s("div",N,e[0]||(e[0]=[t("p",null,"Loading users...",-1)]))):d(i)?(o(),s("div",M,n(d(i)),1)):(o(),s("div",U,[e[4]||(e[4]=t("h2",{class:"text-2xl font-bold mb-4"},"User Management",-1)),d(a).length===0?(o(),s("div",A,e[1]||(e[1]=[t("p",null,"No users found.",-1)]))):(o(),s("div",B,[t("table",C,[e[3]||(e[3]=t("thead",null,[t("tr",null,[t("th",{class:"py-2 px-4 border-b text-left"},"Name"),t("th",{class:"py-2 px-4 border-b text-left"},"Email"),t("th",{class:"py-2 px-4 border-b text-left"},"Role"),t("th",{class:"py-2 px-4 border-b text-center"},"Actions")])],-1)),t("tbody",null,[(o(!0),s(y,null,f(d(a),r=>(o(),s("tr",{key:r.id},[t("td",L,n(r.firstName)+" "+n(r.lastName),1),t("td",S,n(r.email),1),t("td",V,n(r.role),1),t("td",D,[p(b,{to:`/admin/users/${r.id}`,class:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm"},{default:h(()=>e[2]||(e[2]=[g(" Manage Cards ")])),_:2},1032,["to"])])]))),128))])])]))]))])])}}});export{z as default};
